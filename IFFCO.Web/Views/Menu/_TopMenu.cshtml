@model TopMenuViewModel

@{
    string controllerName = this.ViewContext.RouteData.Values["controller"].ToString();
    string areaName = this.ViewContext.RouteData.Values["area"].ToString();
}


<div class="header">
    <div class="logo full-width"><img src="images/logo.jpg"></div>
    <div class="header-title"><span class="dst">Techical Reporting System</span><span class="mobt">HRMS</span></div>
    <div class="hdr-right">
        <div class="user-txt">Welcome<span>@Model.UserName (@Model.PersonalNo)</span></div>
        <div class="user-image full-width"><img src="@Model.Image"></div>
    </div>
    <div class="clearfix"></div>
    <hr class="head-lln"></hr>
    <div class="header-btn">
        <ul>
           
            <li onclick="RedirectHomeNLogout('@areaName/Home/Index')"  class="home" data-toggle="tooltip" data-placement="bottom" title="Home">
                <a asp-controller="Home" asp-action="Index"><i class="fas fa-home"></i>
                
                </a>

            </li>
            <li class="logoff" onclick="RedirectHomeNLogout('Account/Logout')" data-toggle="tooltip" data-placement="bottom" title="Logout">
                <a href="/Account/Logout"><i class="fas fa-power-off"></i></a>
                @*@if (controllerName == "Home")
                    {
                    <a asp-controller="Account" asp-action="Logout"><i class="fas fa-power-off"></i></a>
                    }
                    else
                    {
                    <a asp-controller="@controllerName" asp-action="Logout"><i class="fas fa-power-off"></i></a>
                    }*@
            </li>
        </ul>
    </div>
    <div class="header-box1">
        <div class="userb-img full-width"><img src="@Model.Image"></div>
        <div class="info">
            <span class="usernme1">@Model.UserName</span>
            <span class="userunit">Unit: @Model.Unit (@Model.UnitCode)</span>
            <span class="userdesig">@Model.Designation</span>
            <span class="userdept">@Model.WorkSection</span>
            @*<span>&nbsp;(@Model.WorkUnit)</span>*@
            <span class="logoff " title="Logout"><a href="/Account/Logout" class="logout_clr"><i class="fas fa-power-off "></i>Logout</a></span>

        </div>
    </div>
</div>
<script>
  
    $(".header .hdr-right").hover(function () {
        $(".header-box1").stop(true, true).delay(500).show(0);
    }, $("body").click(function (event) {
        if ($(event.target).attr('class') != '1' && $(event.target).attr('class') != '#accountPopup') {
            $(".header-box1").hide();
        }
    }));
    function RedirectHomeNLogout(url) { localStorage.setItem("currentUrl", url);   window.location.href = url; }
    $(".btnPrint").click(function () {
        var head = $("head").html()
        var body = $("body").html()
        var content = $("#mainDiv").html()
        var style = "input{margin-top: 7px!important;margin-bottom: 7px!important;width:82%} label{width:40%} select{margin-top: 7px!important;margin-bottom: 7px!important;width:82%} textarea{margin-top: 7px!important;margin-bottom: 7px!important;width:92.8%}";
        style += ".row{ width:100%; display: flex;flex-wrap: wrap; } .col-md-1{width:8.33%}.col-md-2{width:16.66%}.col-md-3{width:24.29%}.col-md-4{width:33.33%}.col-md-5{width:41.65%}.col-md-6{width:50% } .col-md-12{width:100%}";
        $("head").empty().html('<title></title> <style> ' + style + ' </style>');
        $("body").empty().html(content);

        setTimeout(function () {
            window.print();
            $("head").html(head)
            $("body").html(body)
        }, 100)
    })


</script>