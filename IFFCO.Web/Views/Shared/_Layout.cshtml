@model IFFCO.HRMS.Shared.Entities.BaseModel
@using IFFCO.HRMS.Service;




@{

    string controllerName = string.Empty;
    string menuName = string.Empty;
    //if (Model != null)
    //{
    //    controllerName = Model.SelectedMenu;
    //    menuName = Model.MenuName;
    //}
    //else
    //{
    //    controllerName = this.ViewContext.RouteData.Values["controller"].ToString();
    //    if (Context.Session.GetObject<List<IFFCO.HRMS.Entities.Models.ModulesMenu>>("GetModulesMenus") != null)
    //    {
    //        var ModuleMenu = Context.Session.GetObject<List<IFFCO.HRMS.Entities.Models.ModulesMenu>>("GetModulesMenus").Where(x => x.MenuId == controllerName).FirstOrDefault();
    //        menuName = ModuleMenu != null ? ModuleMenu.MenuName : "";
    //    }
    //}
    if (Context.Session.GetObject<List<IFFCO.HRMS.Entities.Models.ModulesMenu>>("GetModulesMenus") != null)
    {
        controllerName = this.ViewContext.RouteData.Values["controller"].ToString();
        var ModuleMenu = Context.Session.GetObject<List<IFFCO.HRMS.Entities.Models.ModulesMenu>>("GetModulesMenus").Where(x => x.MenuId == controllerName).FirstOrDefault();
        menuName = ModuleMenu != null ? ModuleMenu.MenuName : "";
    }
    else
    {
        menuName = "Dashboard";
    }

}
<!DOCTYPE html>
<html>
<head>
    <base href="~/" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @*Commented 31-10-2023 HTTPS
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">*@
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    @*<title>@ViewData["Title"] - IFFCODEMO</title>*@
    <title>TECHPROD</title>
    <style>
        .DisplayBlock {
            display: inline-block !important;
        }

        .DisplayNone {
            display: none !important;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox */
        input[type=number] {
            -moz-appearance: textfield;
        }

        .d-none {
            display: none;
        }



        .chat-btn {
            background: #FF5722;
            position: fixed;
            right: 0;
            bottom: 0;
            z-index: 999;
            color: white;
            padding: 0px 15px;
            border: 1px solid #942806;
            cursor: pointer;
        }
    </style>
    @*<link href="@Url.Content("~/css/jquery.stickytable.min.css")" rel="stylesheet" />*@
    @*<link href="@Url.Content("~/font-awesome/css/font-awesome.css")" rel="stylesheet" />*@
    @*<link href="@Url.Content("~/css/PageHeader.css")" rel="stylesheet" />*@
    @*<link href="@Url.Content("~/css/icon.css")" rel="stylesheet" />*@
    @*<link href="@Url.Content("~/lib/bootstrap/dist/css/bootstrap.min.css")" rel="stylesheet" />
        <link href="@Url.Content("~/css/font-awesome.min.css")" rel="stylesheet" />
        <link href="@Url.Content("~/css/style.css")" rel="stylesheet" />
        <link href="@Url.Content("~/css/responsive.css")" rel="stylesheet" />
        <link href="@Url.Content("~/css/css.css")" rel="stylesheet" />*@
    @*<link href="~/css/Select2.css" rel="stylesheet" />*@
    @*<link href="~/css/upadated_new.css" rel="stylesheet" />*@
    <link href="@Url.Content("~/font-awesome/css/all.css")" rel="stylesheet" />
    <link href="@Url.Content("~/lib/bootstrap/dist/css/bootstrap-theme.css")" rel="stylesheet" />
    <link href="@Url.Content("~/css/datatables/buttons.dataTables.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/css/datatables/jquery.dataTables.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/css/Select2.css")" rel="stylesheet" />
    <link href="@Url.Content("~/css/jquery-ui.css")" rel="stylesheet" />
    <link href="@Url.Content("~/bootstrap-3.3.7/css/bootstrap.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/css/master.css")" rel="stylesheet" />

    <link href="~/css/bootstrap-datepicker3.css" rel="stylesheet" />


    @*<script src="@Url.Content("~/js/jquery-3.2.1.min.js")"></script>*@
    <script src="@Url.Content("~/js/jquery-3.3.1.min.js")"></script>
    <script src="@Url.Content("~/js/custom.js")"></script>
    <script src="@Url.Content("~/bootstrap-3.3.7/js/bootstrap.min.js")"></script>

    <script src="@Url.Content("~/js/custom-select.js")"></script>
    <script src="@Url.Content("~/js/jquery.stickytable.min.js")"></script>
    <script src="@Url.Content("~/js/TechnicalReporting.js")"></script>
    <script src="@Url.Content("~/js/Common.js")"></script>
    <script src="@Url.Content("~/js/jsapi.js")"></script>
    <script src="@Url.Content("~/js/HindiTranslate.js")"></script>
    <script src="@Url.Content("~/js/select2.min.js")"></script>
    <script src="@Url.Content("~/lib/jquery-validation/dist/jquery.validate.js")"></script>
    <script src="@Url.Content("~/lib/jquery-validation/dist/jquery.validate.min.js")"></script>
    <script src="@Url.Content("~/lib/jquery-validation/dist/jquery.validate.unobtrusive.min.js")"></script>
    <script src="@Url.Content("~/js/jquery-ui.min.js")"></script>
    <script src="@Url.Content("~/js/popper.min.js")"></script>
    <script src="@Url.Content("~/js/moment.js")"></script>
    <script src="~/js/bootstrap-datepicker.min.js"></script>



    @*<script src="@Url.Content("~/js/Common.js")"></script>*@
    @*<script src="@Url.Content("~/js/jquery-3.3.1.min.js")"></script>*@
    @*<script src="~/js/jquery-1.12.4.min.js"></script>*@
    @*<script src="@Url.Content("~/js/jquery-3.2.1.min.js")"></script>*@
    @*<script src="~/js/select2.min.js"></script>*@
    @*<script src="@Url.Content("~/js/jquery-3.2.1.min.js")"></script>*@

    <style>
        .right-con-area {
            background: white;
        }
    </style>
    <script>

    </script>



    @* content page style script *@
    @*chatbot script start*@
    @* COMMENT 27-10-2023<script type="text/javascript">
            !function (e, t, n, r) {
                function s() {
                    try {
                        var e; if ((e = "string" == typeof this.response ? JSON.parse(this.response) : this.response).url) {
                            var n = t.getElementsByTagName("script")[0], r = t.createElement("script"); r.async = !0, r.src = e.url, n.parentNode.insertBefore(r, n)
                        }
                    } catch (e) { }
                } var o, p, a, i = [], c = []; e[n] = {
                    init: function () { o = arguments; var e = { then: function (t) { return c.push({ type: "t", next: t }), e }, catch: function (t) { return c.push({ type: "c", next: t }), e } }; return e },
                    on: function () { i.push(arguments) }, render: function () { p = arguments }, destroy: function () { a = arguments }
                }, e.__onWebMessengerHostReady__ = function (t) { if (delete e.__onWebMessengerHostReady__, e[n] = t, o) for (var r = t.init.apply(t, o), s = 0; s < c.length; s++) { var u = c[s]; r = "t" === u.type ? r.then(u.next) : r.catch(u.next) } p && t.render.apply(t, p), a && t.destroy.apply(t, a); for (s = 0; s < i.length; s++)t.on.apply(t, i[s]) }; var u = new XMLHttpRequest; u.addEventListener("load", s), u.open("GET", r + "/loader.json", !0), u.responseType = "json", u.send()
            }(window, document, "Bots", "https://www.iffcobot.in:8443/static");
        </script>*@
    @*chatbot script end*@


    @RenderSection("styles", required: false)
</head>
<body class="loading ">
    <span class="chat-btn btnPrint"><i class=" fa fa-print"></i>&nbsp;Print</span>
    <div class="main-con">
        <div class="menu-overlay"></div>
        <div>
            @await Component.InvokeAsync("TopMenu")
        </div>
        <div class="main-con-inner">
            <div class="left-cn">
                @await Component.InvokeAsync("LeftMenu")
            </div>
            <div class="right-cn">
                <h3 class="top-head " id="lblHead">Dashboard&nbsp;</h3>

                @RenderBody()
            </div>
        </div>
    </div>

    <div class="loader-mn modalLoader">
        <div class="loader"></div>
        <div class="txtt">Loading....</div>
    </div>
    @RenderSection("Scripts", required: false)

    <script src="@Url.Content("~/js/datatables.min.js")"></script>
    <script src="@Url.Content("~/js/datatables/jquery.dataTables.min.js")"></script>
    <script src="@Url.Content("~/js/datatables/dataTables.buttons.min.js")"></script>
    <script src="@Url.Content("~/js/datatables/jszip.min.js")"></script>
    <script src="@Url.Content("~/js/datatables/pdfmake.min.js")"></script>
    <script src="@Url.Content("~/js/datatables/vfs_fonts.js")"></script>
    <script src="@Url.Content("~/js/datatables/buttons.html5.min.js")"></script>
    <script src="@Url.Content("~/js/datatables/buttons.colVis.min.js")"></script>
    <script src="@Url.Content("~/js/jquery-confirm.min.js")"></script>
    <script src="@Url.Content("~/js/notify.js")"></script>
    <script src="@Url.Content("~/js/jQuery.print.js")"></script>
    <link href="@Url.Content("~/css/jquery-confirm.min.css")" rel="stylesheet" />

    <script type="text/javascript">
        @*$(document).ready(function () {
            if ('@controllerName' != null) {
                if ($('#@controllerName').parent().parent().parent().parent().parent().parent().parent().hasClass("inner")) {
                    $('#@controllerName').parent().parent().parent().parent().parent().parent().parent().css("display", "block");
                    $('#@controllerName').parent().parent().parent().css("display", "block");
                } else {
                    $('#@controllerName').parent().parent().parent().parent().parent().parent().parent().parent().parent().parent().parent().find(".inner").first().css("display", "block")


                    $('#@controllerName').parent().parent().parent().parent().parent().parent().parent().parent().parent().parent().parent().children().find(".inner").first().css("display", "block")

                    $('#@controllerName').parent().parent().parent().css("display", "block")
                }
               $("#@controllerName").css("background", "#c9e8d7")
            }

        });*@

        function PageNotLoad(url, thisval) {
            var interval = null;
           // $(".content").load(moduleId + "/" + MenuId + "/Index");
            //e.preventDefault();
            $(".modalLoader").show();

            $.each($(thisval).parents("ul:first").find("li"), function (index, val) {
                if ($(val).hasClass("active")) {
                    $(val).removeClass("active");
                }
            });

            $(thisval).parents("li:first").addClass("active");
            ;
            var strHtm = $(thisval).text() + ' ' + '<span style="font-size:10px;">[' + url.split('/')[1]+']</span>';
            localStorage.setItem("currentUrl", url);
            document.getElementById("page-wrapper").innerHTML = "";
            $('#page-wrapper').load(url);
            $(".top-head").html(strHtm);
            interval=  setInterval(function () {
                //if ($("#HrmsGrid tr").length == 0) {
                //    $(".modalLoader").hide();
                //    clearInterval(interval);
                //} else {
                //    if ($("#HrmsGrid tr").length > 1) {
                //        $(".modalLoader").hide();
                //        clearInterval(interval);
                //    } else {
                //        if ("PSSC17" == url.split('/')[1] || "PSSC11" == url.split('/')[1]) {
                //            $(".modalLoader").hide();
                //            clearInterval(interval);
                //        }
                //    }
                //}
                if ($(".plcholder-cn").html() != undefined) {
                    $(".modalLoader").hide();
                    clearInterval(interval);
                }


            }, 1000);

        }
        function PageNoLoad(url) {
            $(".content").load(url);
        }

        ////chat bot start
        @*Commented 27-10-2023$(document).ready(function () {
            debugger;
            $.ajax({
                url: '/chatbot/Index',
                type: "GET",
                async: true,
                data: "application/json",
                cache: false,
                success: function (data) {
                    Bots.destroy();

                    Bots.init({
                        appId: '5cf370ca4d50ea0010c0fb51', browserStorage: 'sessionStorage',

                        locale: ' en-IN',
                        menuItems: {
                            imageUpload: false,
                            fileUpload: false,
                            shareLocation: false,
                        },
                        customText: {
                            headerText: 'IFFCO Digital Assistant?',
                            inputPlaceholder: 'Type a message...',
                            sendButtonText: 'Send',
                            font: 'italic',
                            conversationTimestampHeaderFormat: 'Do MMMM YYYY, hh:mm'
                        },
                        customColors: {
                            brandColor: '3CB371',
                            conversationColor: '3CB371',
                            actionColor: '006633',
                            borderColor: '800000'
                        },

                        displayStyle: "button",
                        buttonIconUrl: "https://hrms.iffco.coop/images/Girl-Avtar.jpg",
                        buttonWidth: '80',
                        buttonHeight: '80',
                        //backgroundImageUrl: "https://www.wallpapermaiden.com/wallpaper/2397/download/480x800/msi-gaming-series-dragon-logo.png"
                    })

                        .then(function (res) {

                            Bots.updateUser(
                                {
                                    "firstName": data.personal_no,
                                    "givenName": data.personal_no,

                                }
                            );
                        })
                        .catch(function (err) {
                            console.error(err);
                        });
                }
            })
        });*@
          // //chat bot end

    </script>

    <script>
        function divhideSuccess() {
            document.getElementById("CreateModal").style.display = "none";
        }
        function divhidedelete() {
            document.getElementById("rowdeleteModal").style.display = "none";
        }
        function divhideUpdate() {
            document.getElementById("UpdateModal").style.display = "none";
        }
        function divhideError() {
            document.getElementById("ErrorModal").style.display = "none";
        }
        function divhideErrorall() {
            document.getElementById("ErrorModal").style.display = "none";
        }
    </script>
   
    <script>
        var watermark = String.fromCharCode(83) + String.fromCharCode(85) + String.fromCharCode(77) + String.fromCharCode(73) + String.fromCharCode(84)
        $(document).ready(function () {
            $(".chat-btn").on("click", function () {
                var ChatText = $(this).text();
                if (ChatText == "Hide") {
                    $(this).text("Show");
                    $('#web-messenger-container').contents().find('#mount').show()
                    $("#web-messenger-container").css({ diaplay: "block" });
                }
                if (ChatText == "Show") {
                    $(this).text("Hide");
                    $('#web-messenger-container').contents().find('#mount').hide()
                    $("#web-messenger-container").css({ diaplay: "none" });
                }
            });
        });

     
        

        $(".btnPrint").click(function () {
            var head = $("#lblHead").text().split('[')[0].toLocaleUpperCase(); 
            var Subhead = $("#lblHead").text().split('[')[1].toLocaleUpperCase(); 
            var content = $("#mainDiv").html()
            var style = "body{font-family:Calibri !important} hr{ color:black !important} input{margin-bottom: 7px!important;width:82%;border:0.5px solid black !important;border-radius:15px} label{width:50%;margin-top: 7px!important} select{margin-bottom: 7px!important;width:82%;border:0.5px solid black !important;border-radius:15px} textarea{margin-top: 7px!important;margin-bottom: 7px!important;width:92.8%;border:0.5px solid black !important;border-radius:15px} .row{ width:100%; display: flex;flex-wrap: wrap; } .col-md-1{width:8.33%}.col-md-2{width:16.66%}.col-md-3{width:24.29%}.col-md-4{width:33.33%}.col-md-5{width:41.65%}.col-md-6{width:50% } .col-md-12{width:100%} h5{text-align:center;position:absolute;top:-20px;left:0px;opacity:1; } h2{text-align:right;width:100%;margin-bottom:0} h6{text-align:right;width:100%;margin-top:-5px;margin-bottom:0px;}";
            var w = window.open('')
            w.document.write('<html><head><title></title> <style> ' + style + ' </style></head><body>')
            w.document.write('<h5><img src="https://wlsaonla.iffco.coop/Techprod/images/logo.jpg" style="width:90px;"></h5>')
            w.document.write('<h2>' + head + '</h2>')
            w.document.write('<h6>' + Subhead.replace("]",'') + '</h6>')
            w.document.write('<p style="color:black;width:100%;margin-bottom:-10px;overflow:hidden;text-align:center">*************************************************************************************************************************************************</p>');
            w.document.write(content);
            w.document.write('</body></html>');
            w.document.close();          
            w.print();
            setTimeout(function () {
                w.close()
            },1000)
        })

    </script>
</body>
</html>


